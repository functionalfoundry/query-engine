<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>workflo.query-engine.query.process documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="query-engine.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">workflo/query-engine</span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>workflo</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>query-engine</span></div></div></li><li class="depth-3"><a href="workflo.query-engine.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-4"><a href="workflo.query-engine.cache.atom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom</span></div></a></li><li class="depth-3 branch"><a href="workflo.query-engine.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><a href="workflo.query-engine.data-layer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data-layer</span></div></a></li><li class="depth-4 branch"><a href="workflo.query-engine.data-layer.datascript.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datascript</span></div></a></li><li class="depth-4 branch"><a href="workflo.query-engine.data-layer.datascript-no-authorization.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datascript-no-authorization</span></div></a></li><li class="depth-4 branch"><a href="workflo.query-engine.data-layer.datomic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datomic</span></div></a></li><li class="depth-4 branch"><a href="workflo.query-engine.data-layer.entitydb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entitydb</span></div></a></li><li class="depth-4"><a href="workflo.query-engine.data-layer.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-3"><a href="workflo.query-engine.query.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>query</span></div></a></li><li class="depth-4 branch"><a href="workflo.query-engine.query.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-4 current"><a href="workflo.query-engine.query.process.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>process</span></div></a></li><li class="depth-3"><a href="workflo.query-engine.util.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-dispatch-key"><div class="inner"><span>dispatch-key</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-ident-expr.3F"><div class="inner"><span>ident-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-ident-name"><div class="inner"><span>ident-name</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-ident-value"><div class="inner"><span>ident-value</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-join-expr.3F"><div class="inner"><span>join-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-join-query"><div class="inner"><span>join-query</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-join-source"><div class="inner"><span>join-source</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-param-expr.3F"><div class="inner"><span>param-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-param-map"><div class="inner"><span>param-map</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-param-map-expr.3F"><div class="inner"><span>param-map-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-param-query"><div class="inner"><span>param-query</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-plain-query-expr.3F"><div class="inner"><span>plain-query-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process"><div class="inner"><span>process</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-ident"><div class="inner"><span>process-ident</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-join"><div class="inner"><span>process-join</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-join-query"><div class="inner"><span>process-join-query</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-keyword"><div class="inner"><span>process-keyword</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-param-expr"><div class="inner"><span>process-param-expr</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-plain-query-expr"><div class="inner"><span>process-plain-query-expr</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-query-expr"><div class="inner"><span>process-query-expr</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-process-query-root"><div class="inner"><span>process-query-root</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-query-expr.3F"><div class="inner"><span>query-expr?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-query-root.3F"><div class="inner"><span>query-root?</span></div></a></li><li class="depth-1"><a href="workflo.query-engine.query.process.html#var-toplevel.3F"><div class="inner"><span>toplevel?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">workflo.query-engine.query.process</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-dispatch-key"><h3>dispatch-key</h3><div class="usage"><code>(dispatch-key q)</code></div><div class="doc"><div class="markdown"><p>Obtains the key to use for storing the results of processing the query q.</p></div></div></div><div class="public anchor" id="var-ident-expr.3F"><h3>ident-expr?</h3><div class="usage"><code>(ident-expr? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is an ident expression.</p></div></div></div><div class="public anchor" id="var-ident-name"><h3>ident-name</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the name of an ident expression.</p></div></div></div><div class="public anchor" id="var-ident-value"><h3>ident-value</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the value of an ident expression.</p></div></div></div><div class="public anchor" id="var-join-expr.3F"><h3>join-expr?</h3><div class="usage"><code>(join-expr? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is a join expression.</p></div></div></div><div class="public anchor" id="var-join-query"><h3>join-query</h3><div class="usage"><code>(join-query q parent-qs)</code></div><div class="doc"><div class="markdown"><p>Returns the query of a join query expression.</p></div></div></div><div class="public anchor" id="var-join-source"><h3>join-source</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the source of a join query expression.</p></div></div></div><div class="public anchor" id="var-param-expr.3F"><h3>param-expr?</h3><div class="usage"><code>(param-expr? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is a parameterized query expression.</p></div></div></div><div class="public anchor" id="var-param-map"><h3>param-map</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the parameter map of a parameterized query expression.</p></div></div></div><div class="public anchor" id="var-param-map-expr.3F"><h3>param-map-expr?</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns true if q is a parameter map expression.</p></div></div></div><div class="public anchor" id="var-param-query"><h3>param-query</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the query of a parameterized query expression.</p></div></div></div><div class="public anchor" id="var-plain-query-expr.3F"><h3>plain-query-expr?</h3><div class="usage"><code>(plain-query-expr? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is a plain query expression.</p></div></div></div><div class="public anchor" id="var-process"><h3>process</h3><div class="usage"><code>(process q parent-qs f init)</code></div><div class="doc"><div class="markdown"><p>Processes a query. Takes in the initial value to merge the result into and calls f for every keyword, join and ident expression in the query in order to refine the result at the given level of the query.</p></div></div></div><div class="public anchor" id="var-process-ident"><h3>process-ident</h3><div class="usage"><code>(process-ident ret q parent-qs params f)</code></div><div class="doc"><div class="markdown"><p>Processes an ident expression. This calls f to obtain a result for the ident and stores the result in ret under the dispatch key of the ident (e.g. <code>:account</code> for an ident like <code>[:account 1]</code>).</p></div></div></div><div class="public anchor" id="var-process-join"><h3>process-join</h3><div class="usage"><code>(process-join ret q parent-qs params f)</code></div><div class="doc"><div class="markdown"><p>Processes a join q with optional parameters against one or many instances of an entity (in ret).</p></div></div></div><div class="public anchor" id="var-process-join-query"><h3>process-join-query</h3><div class="usage"><code>(process-join-query ret q parent-qs params f)</code></div><div class="doc"><div class="markdown"><p>Processes the query q of a join against one or more instances of an entity (in ret). Returns the result of proccessing the query for each of the instances. For instance, it may return the input instance(s) again but with the extra data from processing the join query inserted into each instance.</p></div></div></div><div class="public anchor" id="var-process-keyword"><h3>process-keyword</h3><div class="usage"><code>(process-keyword ret q parent-qs params f)</code></div><div class="doc"><div class="markdown"><p>Processes a query keyword.</p></div></div></div><div class="public anchor" id="var-process-param-expr"><h3>process-param-expr</h3><div class="usage"><code>(process-param-expr ret q parent-qs _ f)</code></div><div class="doc"><div class="markdown"><p>Processes a parmeterized query expression by extracting the parameter map from it and passing them on to the processing of the contained plain query expression.</p></div></div></div><div class="public anchor" id="var-process-plain-query-expr"><h3>process-plain-query-expr</h3><div class="usage"><code>(process-plain-query-expr ret q parent-qs params f)</code></div><div class="doc"><div class="markdown"><p>Processes a plain query expression.</p></div></div></div><div class="public anchor" id="var-process-query-expr"><h3>process-query-expr</h3><div class="usage"><code>(process-query-expr ret q parent-qs _ f)</code></div><div class="doc"><div class="markdown"><p>Processes a query expression (either plain or parameterized).</p></div></div></div><div class="public anchor" id="var-process-query-root"><h3>process-query-root</h3><div class="usage"><code>(process-query-root ret q parent-qs _ f)</code></div><div class="doc"><div class="markdown"><p>Processes a query root expression.</p></div></div></div><div class="public anchor" id="var-query-expr.3F"><h3>query-expr?</h3><div class="usage"><code>(query-expr? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is a query expression.</p></div></div></div><div class="public anchor" id="var-query-root.3F"><h3>query-root?</h3><div class="usage"><code>(query-root? q)</code></div><div class="doc"><div class="markdown"><p>Returns true if q is a query root expression.</p></div></div></div><div class="public anchor" id="var-toplevel.3F"><h3>toplevel?</h3><div class="usage"><code>(toplevel? q parent-qs)</code></div><div class="doc"><div class="markdown"><p>Returns true if the query q is at the top level, meaning it is either an immediate child of the root query or the child of a topevel parameterized query.</p></div></div></div></div></body></html>